## 公众号：百里青山

![image.png](/public/img/gz.jpg)

游戏地址  https://ihope_top.gitee.io/tangyuan-kangyi/ <br>
个人主页  https://ihope_top.gitee.io/my-site/

建议在pc上使用Chrome浏览器进行访问，如果只能手机玩，建议使用QQ浏览器（微信浏览器有bug）
## 前言

各位朋友新年快乐，相信大家现在都已经到家了吧，我在这给大家隔空来个云拜年，祝大家新的一年里心想事成，万事如意。我也是昨天刚到家，这几天又是忙离职，又是忙搬家的，回老家之后马上就接着来写文章了，就为了能在春节前发出来。虽然很累，但是也很开心，毕竟能回家过年，要说今年差一点就回不了家了，具体大家都懂，如今能在疫情肆虐的时期安全回家，离不开每一位抗疫人员的坚持和努力，也离不开各位的坚持和配合，所以这个小游戏就送给你们，希望大家能够喜欢，也希望里面用到的知识能够帮到大家。因为时间实在紧迫，这个小游戏也只写了一周多点的时间，还都是晚上下班写，中间还经历了搬家，所以很多地方不够完善，很多想法也没能实现，不过好在该有的都有了，也希望大家在体验之后可以给出一些建议和想法。

> 插播一个小广告：这个小游戏应该是近期的收官之作了，花费了很多的心思和时间，很长一段时间应该都不会再写了，因为我离职了，要准备准备进行面试了，大概会准备一个月的时间，同时也好好放松放松，做一些自己感兴趣的事，之后应该会去北京，所以各位大佬如果有能看的上我这个菜鸟的，也希望能给个机会，我工作经验四年，技术栈就是vue，工作期间一直写的管理端项目，自学了koa+MongoDB（只会简单的增删查改），学历非全日制本科，如果对我感兴趣的欢迎评论区留言，或者联系公众号百里青山，谢谢。

### 游戏介绍

> 由于本次小游戏内容较多，所以不会进行全部代码讲解，主要讲解关键代码和游戏创意，如果有人感兴趣，后面可以写专门的文章进行细节讲解。

> 游戏玩法参考：flappybird <br>
> 音乐：<br>
> 故事模式-Last Reunion[Peter Roe] <br>
> 自由模式-夜空中最亮的星 (钢琴版)[Jesse T]<br>
> 故事模式创意参考-国产单机游戏《双子》


![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cd1a67f516714849ae3b5b920013bae4~tplv-k3u1fbpfcp-watermark.image?)

**强烈建议有条件体验小游戏的朋友先进行体验，下方包含全部剧透**

本次小游戏分为两个模式，故事模式和自由模式，玩法都大致相同，下面会分开进行介绍。虽然本次适配了手机模式，但还是建议使用电脑进行体验，因为手机屏幕宽度过窄，无法看到后面的柱子，所以无法提前调整位置，难度会大大增加（为什么不做手机缩放适配？因为没时间，哈哈）


#### 自由模式


![1.gif](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7be8272eca064be2abde9e435c94b141~tplv-k3u1fbpfcp-watermark.image?)

游戏的主要玩法参考小游戏《flappybird》，只不过加入了部分自己的创意，如上图所示，玩家通过空格键或者点击屏幕控制汤圆（为啥选汤圆呢，因为汤圆代表着团圆吧）上下跳动，从而从柱子中间的空隙穿过，灰暗的柱子也代表着被病毒污染的城市，汤圆经过之后柱子会变成柔和的橙黄色，也代表着城市被净化了，同时上方的计数牌也会记录被净化过的建筑，代表着分数。下方的三条小竖线代表着生命值，每碰到一次柱子会损失一次生命值并且无敌一段时间，从上方跳出屏幕或者从下方掉出屏幕也会损失一次生命值并且无敌一段时间，如果无敌时间过后还没回到屏幕内，则会判定失败。

![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1f2f4b89ebb941d7bb1cbc6c68b6de52~tplv-k3u1fbpfcp-watermark.image?)

生命值耗尽，会显示最终成绩，玩家可以选择重新开始或者返回菜单。

#### 故事模式

故事模式可以说是花费了我一大半的精力，首先就是创意部分，故事模式与音乐相结合，随着音乐的递进关系分为三个阶段

![2.gif](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/253c1e0abaa7404ca93067f63e09f6ef~tplv-k3u1fbpfcp-watermark.image?)

第一个阶段和自由模式差不多，玩家控制汤圆穿过建筑之间的空隙，不同的是穿过之后建筑之间会生成一个绿色的小光点，我们可以把它理解为能量、信仰、人民的感激，这个能量在第三阶段会用到。


![3.gif](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d4793194ccf94e0ab2ea3a61aaf11515~tplv-k3u1fbpfcp-watermark.image?)

第二阶段随着音乐感的增强，游戏难度也会增加，具体就是建筑移动的更快了，建筑之间的空隙更小了。为了照顾广大手机用户和手残党的体验，第二关的生命值增加到了5点（电脑模式经本人测验其实可以一滴血不掉）


![4.gif](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/516077b1b5d6478b907147d20406caa4~tplv-k3u1fbpfcp-watermark.image?)

随着音乐到达高潮，我们也会进入第三阶段，但是我们会发现第三阶段的难度骤增，建筑之间的空隙仅仅比汤圆大一点，这根本无法通过好吗？难道作者脑子有病？no，其实这里参考了国产单机游戏双子的创意，建议朋友们可以去体验一下，当然这里无法和原作相比，这里做了大量的简化。朋友们有没有发现上面的光球越来越大了，现在它就要派上用场了。

![5.gif](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/75ee6124d13c448b8eabb66b226d4538~tplv-k3u1fbpfcp-watermark.image?)

相信很多朋友不经过多次的尝试是无法到达这里的，就算有朋友坚持到了这里，看到这绝境也会变得绝望和愤怒，这时候你会发现上面会弹出提示，问你是否还要坚持，如果你选择是，之前积累的每一个能量都会一个个的来帮助你，等到全部能量赋能完毕，汤圆会变得无敌，然后继续前行

![6.gif](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4ff270ae857446619497fa094022d6e3~tplv-k3u1fbpfcp-watermark.image?)

汤圆无敌之后速度会逐渐加快，直到达到最快速度，此时建筑会被快速穿过并且净化，此时音乐也会达到高潮，因为音乐高潮部分会持续一分多种，所以这里一直画面不变其实有些无聊，所以这里在上面加入了一些疫情播报（纯属虚构），一方面可以缓解无聊，另一方面，随着数据的逐渐好转，也和游戏互相呼应。


![7.gif](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cc0a5e6e54e24697bce5b81f1f8d53c7~tplv-k3u1fbpfcp-watermark.image?)

随着音乐的收尾，疫情播报中数字也会逐渐清零（这里由于屏幕大小的不同，很难做到音乐卡点十分准确），之后柱子会全部消失，然后展示一些祝福的文字，游戏结束，这里本来是想让那些城市全都亮起灯火，夜空燃放烟花，或者天空变晴朗的，奈何时间实在不够了，只能暂且如此了。